<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>My Chat</title>
</head>

<body>
    <h1>My Chat</h1>
    <form action="">
        <input type="text" id="input_message" autocomplete="off" /><button type="submit">Send</button>
    </form>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        $('form').submit(
            () => {
                console.log('#input_message :', $('#input_message').val());

                if ($('#input_message').val()) {
                    // サーバーに、イベント名'new message' で入力テキストを送信
                    socket.emit('new message', $('#input_message').val());

                    $('#input_message').val('');    // テキストボックスを空に。
                }
                return false;   // フォーム送信はしない
            });
    </script>
    <script src="client.js"></script>

</body>

</html>